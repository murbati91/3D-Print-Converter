(kicad_sch (version 20230121) (generator eeschema)

  (uuid "3d-print-converter-main")
  
  (paper "A4")
  
  (title_block
    (title "3D Print Converter Controller")
    (date "2024-01-15")
    (rev "1.0")
    (company "Tech Sierra Solutions")
    (comment 1 "ESP32-S3 Based 3D Printer Controller")
    (comment 2 "Open Source Hardware - MIT License")
  )

  ; Power Section
  (text "POWER SECTION" (at 25 25) (effects (font (size 2 2) (bold yes))))
  
  ; USB-C Connector
  (symbol (lib_id "Connector:USB_C_Receptacle") (at 30 50) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "usb-c-1")
    (property "Reference" "J1" (at 30 35 0))
    (property "Value" "USB_C" (at 30 37 0))
  )
  
  ; 5V to 3.3V Regulator
  (symbol (lib_id "Regulator_Linear:AMS1117-3.3") (at 80 50) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "reg-1")
    (property "Reference" "U1" (at 80 42 0))
    (property "Value" "AMS1117-3.3" (at 80 44 0))
  )
  
  ; Filter Capacitors
  (symbol (lib_id "Device:C") (at 65 55) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "c1")
    (property "Reference" "C1" (at 67 53 0))
    (property "Value" "10uF" (at 67 57 0))
  )
  
  (symbol (lib_id "Device:C") (at 95 55) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "c2")
    (property "Reference" "C2" (at 97 53 0))
    (property "Value" "10uF" (at 97 57 0))
  )

  ; MCU Section
  (text "MCU SECTION" (at 130 25) (effects (font (size 2 2) (bold yes))))
  
  ; ESP32-S3-WROOM-1 Module
  (symbol (lib_id "RF_Module:ESP32-S3-WROOM-1") (at 160 80) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "esp32-1")
    (property "Reference" "U2" (at 160 45 0))
    (property "Value" "ESP32-S3-WROOM-1-N8R8" (at 160 47 0))
  )
  
  ; Crystal (if needed - ESP32-S3 has internal)
  ; Boot/Reset buttons
  (symbol (lib_id "Switch:SW_Push") (at 120 90) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "sw1")
    (property "Reference" "SW1" (at 120 85 0))
    (property "Value" "BOOT" (at 120 95 0))
  )
  
  (symbol (lib_id "Switch:SW_Push") (at 120 105) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "sw2")
    (property "Reference" "SW2" (at 120 100 0))
    (property "Value" "RESET" (at 120 110 0))
  )

  ; USB-UART Bridge (CH340C)
  (symbol (lib_id "Interface_USB:CH340C") (at 60 90) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "ch340-1")
    (property "Reference" "U3" (at 60 75 0))
    (property "Value" "CH340C" (at 60 77 0))
  )

  ; Display Section  
  (text "DISPLAY SECTION" (at 25 130) (effects (font (size 2 2) (bold yes))))
  
  ; TFT Display Connector
  (symbol (lib_id "Connector_Generic:Conn_01x08") (at 50 160) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "tft-1")
    (property "Reference" "J2" (at 50 145 0))
    (property "Value" "TFT_CONN" (at 50 147 0))
    (property "Description" "VCC,GND,CS,RST,DC,MOSI,SCK,LED")
  )

  ; SD Card Section
  (text "SD CARD SECTION" (at 100 130) (effects (font (size 2 2) (bold yes))))
  
  ; MicroSD Card Slot
  (symbol (lib_id "Connector:microSD_Card") (at 130 160) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "sd-1")
    (property "Reference" "J3" (at 130 140 0))
    (property "Value" "MicroSD" (at 130 142 0))
  )

  ; Printer Interface Section
  (text "PRINTER INTERFACE" (at 180 130) (effects (font (size 2 2) (bold yes))))
  
  ; UART Header for Printer
  (symbol (lib_id "Connector_Generic:Conn_01x04") (at 200 160) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "printer-uart")
    (property "Reference" "J4" (at 200 150 0))
    (property "Value" "PRINTER" (at 200 152 0))
    (property "Description" "VCC,GND,TX,RX")
  )
  
  ; Level shifter for 5V printers
  (symbol (lib_id "Interface_UART:TXS0102DCU") (at 230 160) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "level-shift")
    (property "Reference" "U4" (at 230 150 0))
    (property "Value" "TXS0102" (at 230 152 0))
  )

  ; User Input Section
  (text "USER INPUT" (at 25 200) (effects (font (size 2 2) (bold yes))))
  
  ; Rotary Encoder
  (symbol (lib_id "Device:Rotary_Encoder_Switch") (at 50 230) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "encoder-1")
    (property "Reference" "SW3" (at 50 215 0))
    (property "Value" "EC11" (at 50 217 0))
  )
  
  ; Status LEDs
  (text "STATUS LEDs" (at 100 200) (effects (font (size 2 2) (bold yes))))
  
  ; WS2812B RGB LEDs
  (symbol (lib_id "LED:WS2812B") (at 120 230) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "led1")
    (property "Reference" "D1" (at 120 220 0))
    (property "Value" "WS2812B" (at 120 222 0))
  )
  
  (symbol (lib_id "LED:WS2812B") (at 145 230) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "led2")
    (property "Reference" "D2" (at 145 220 0))
    (property "Value" "WS2812B" (at 145 222 0))
  )
  
  (symbol (lib_id "LED:WS2812B") (at 170 230) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "led3")
    (property "Reference" "D3" (at 170 220 0))
    (property "Value" "WS2812B" (at 170 222 0))
  )

  ; Decoupling Capacitors for ESP32
  (symbol (lib_id "Device:C") (at 195 60) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "c3")
    (property "Reference" "C3" (at 197 58 0))
    (property "Value" "100nF" (at 197 62 0))
  )
  
  (symbol (lib_id "Device:C") (at 205 60) (unit 1)
    (in_bom yes) (on_board yes)
    (uuid "c4")
    (property "Reference" "C4" (at 207 58 0))
    (property "Value" "10uF" (at 207 62 0))
  )

  ; Net Labels and Power Symbols
  (global_label "3V3" (at 100 50) (effects (font (size 1.27 1.27))))
  (global_label "5V" (at 60 50) (effects (font (size 1.27 1.27))))
  (global_label "GND" (at 80 65) (effects (font (size 1.27 1.27))))
  
  ; GPIO Labels
  (global_label "GPIO4_ENC_A" (at 140 85))
  (global_label "GPIO5_ENC_B" (at 140 87))
  (global_label "GPIO6_ENC_SW" (at 140 89))
  (global_label "GPIO10_SD_CS" (at 140 91))
  (global_label "GPIO11_MOSI" (at 140 93))
  (global_label "GPIO12_SCK" (at 140 95))
  (global_label "GPIO13_MISO" (at 140 97))
  (global_label "GPIO9_TFT_DC" (at 180 85))
  (global_label "GPIO8_TFT_RST" (at 180 87))
  (global_label "GPIO38_LED" (at 180 89))
  (global_label "GPIO43_TX" (at 180 91))
  (global_label "GPIO44_RX" (at 180 93))

  ; Notes
  (text "NOTES:" (at 25 260))
  (text "1. All capacitors are ceramic unless noted" (at 25 265))
  (text "2. USB-C supports USB 2.0 only" (at 25 270))
  (text "3. TFT connector compatible with ILI9341 2.4\" displays" (at 25 275))
  (text "4. Level shifter required for 5V printer boards" (at 25 280))
  (text "5. See BOM for component values" (at 25 285))

)
