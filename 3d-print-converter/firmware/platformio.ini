; PlatformIO Project Configuration
; ================================
; ESP32-WROOM-32 DevKit with Screw Terminals
; CAD-to-3D Print Controller
;
; Your board: ESP32 N4R2 (4MB Flash, 2MB PSRAM)

[env:esp32dev]
platform = espressif32
board = esp32dev
framework = arduino

; Upload settings
upload_speed = 921600
monitor_speed = 115200

; Board configuration  
board_build.mcu = esp32
board_build.f_cpu = 240000000L
board_build.flash_mode = dio
board_build.partitions = default.csv

; Enable PSRAM (your board has 2MB)
board_build.arduino.memory_type = dio_qspi

; Build flags for TFT_eSPI
build_flags = 
    -DCORE_DEBUG_LEVEL=3
    -DBOARD_HAS_PSRAM
    ; ========================================
    ; TFT_eSPI configuration for ILI9341 2.4"
    ; ========================================
    -DUSER_SETUP_LOADED=1
    -DILI9341_DRIVER=1
    -DTFT_WIDTH=240
    -DTFT_HEIGHT=320
    ; TFT Pin assignments (directly to screw terminals)
    -DTFT_MISO=19
    -DTFT_MOSI=23
    -DTFT_SCLK=18
    -DTFT_CS=5
    -DTFT_DC=2
    -DTFT_RST=4
    -DTFT_BL=15
    -DTOUCH_CS=-1
    -DSPI_FREQUENCY=40000000
    -DSPI_READ_FREQUENCY=20000000

; Dependencies
lib_deps = 
    bodmer/TFT_eSPI@^2.5.0
    bblanchon/ArduinoJson@^6.21.0
    Wire
    SPI
    SD(esp32)


; ==========================================
; Alternative: Use ST7789 1.3" display
; ==========================================
[env:esp32dev-st7789]
platform = espressif32
board = esp32dev
framework = arduino
upload_speed = 921600
monitor_speed = 115200

build_flags = 
    -DCORE_DEBUG_LEVEL=3
    -DUSER_SETUP_LOADED=1
    -DST7789_DRIVER=1
    -DTFT_WIDTH=240
    -DTFT_HEIGHT=240
    -DTFT_MISO=-1
    -DTFT_MOSI=23
    -DTFT_SCLK=18
    -DTFT_CS=5
    -DTFT_DC=2
    -DTFT_RST=4
    -DSPI_FREQUENCY=40000000

lib_deps = 
    bodmer/TFT_eSPI@^2.5.0
    bblanchon/ArduinoJson@^6.21.0
